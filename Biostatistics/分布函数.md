一切开始于二项分布

# 0. 二项分布

已知有 $n$ 个开关，其中每一个打开的概率均为 $p$，相反关闭的概率均为 $q$，现在问题来了，`Alice`（为什么又是她）想要知道其中 $m$ 个开关同时打开的概率 $P(m)$ 为多少

显然这个问题是非常容易解决的。每个开关只能处在打开或关闭两种状态中的一种，那么既然 $m$ 个打开，剩下 $n$ 个则必然关闭，让我们来看看，这种情况下的概率显然是 $p^mq^{n-m}$ ，但这就是全部可能了吗？考虑以下情况，两个并排的开关可以处在 `开关` 的状态，亦可以处在 `关开` 的状态，这显然算两种。因此，我们不仅要考虑**有**$m$ 个开关打开，亦要考虑 **哪**$m$ 个开关打开。对于后者，可以使用**组合**来处理，即从 $n$ 个开关中抽 $m$ 个打开。

最终，我们可以得到 $P(m)=\mathrm{C}_{n}^{m}p^mq^{n-m}$，这即是二项分布。

为了简化使用，我们将二项分布记作 $B(n,p)$，这个函数的图象类似于下图 ![[Pasted image 20240721213534.png]]

## 0.0 一些扩展

我们的 `Alice` 可不仅仅满足于此，她和 `Bob` （哦！天呐）研发了一种特殊的开关，现在它不仅可以开关，还可以既开又关了，对于这种有三个状态的开关，又该怎么计算呢？

让我们假设有 $s$ 个开关打开，$t$ 个开关关闭吧，暂且不考虑既开又关的开关。显然 $P(s)=\mathrm{C}_n^sp^sq^t$，如果稍稍化简可以得到 $P(s+t)=\frac{n!}{s!\times{t!}}p^sq^t$ 。凭借惊人的注意力，你应该可以注意到，如果我引入了既开又关的开关后，概率的表达式可以写作 $P(s+t+u)=\frac{n!}{s!\times{t!\times{u!}}}p^sq^tr^u$ ，事实上的确如此。

当然，如果有一天 `Alice` 发明了更加抽象的开关，它依然可以用类似的方法来计算

# 1. 泊松分布

毕竟那可是 `Alice` 与 `Bob`！没有什么是他们干不出来的。

事情逐渐抽象了起来，`Alice` 用 LED 灯带替换掉了原来的白炽灯。现在可不再是 n 个开关了，而是一整条灯带！`Alice` 使用原力（？）让 LED 灯带中的**很少的**点亮起来，不过原力有限，平均下来 `Alice` 只能让 $\mu$ 个点亮起来。`Alice` 依然想知道她让 $k$ 个点亮起来的概率。

额，似乎有些麻烦。不过没关系，让我们先看看简单点的情况。如果这条灯带有 $n$ 个点构成，我们依然可以用**二项分布**来解决

$$
P(x=k)=\mathrm{C}_n^mp^mq^{n-m}
$$

但是拜托，这可是 LED 灯带欸，它可有很多很多个点，或者说……无穷多个？

对啦！那么现在我们就可以写出这个式子

$$
\begin{align}
P(x=k)=&\lim_{n\rightarrow\infty}\mathrm{C}_n^mp^mq^{n-m}\\
=&\lim_{n\rightarrow\infty} \frac{n!}{\mu!(n-\mu)!} {\frac{\mu}{n}}^\mu(1-{\frac{\mu}{n}})^{n-\mu}\\
\end{align}
$$

使用一些超纲的知识，我们最终可以知道

$$
\begin{align}
P(x=k)=\frac{\mu^k}{k!}e^{-\mu}
\end{align}
$$

稍稍修改一下，把 $\mu$ 换成 $\lambda$

$$
\begin{align}
P(x=k)=\frac{\lambda^k}{k!}e^{-\lambda}
\end{align}
$$

这即是泊松分布的表达式

# 2.~~正太~~正态分布

无所不能的 `Alice` 又有了更多的问题，在刚刚的情况下，`Alice` 还想知道有 $k$ 个点不亮的概率。

嗯？这看上去还是一样的欸。但是，在刚刚的情况下，只有**很少**的点是亮的，而不亮的点却**非常多**，而这会带来非常大的困扰。二项分布仅仅只在**离散**的情况下适用，在刚刚点很少时，我们可以将它们看作 $n$ 很大的离散变量（事实上我们也的确是这样做的）。不过现在要考虑的点非常多，我们再也不能将它们看作离散的了，它们应当是**连续变量**。

那么，怎么办呢？

没事，我们还有 `Bob` ！刚刚学完概率学的 `Bob` 告诉我们，对于**连续随机变量**，它们应当满足大名鼎鼎的 **~~正太~~正态分布**。

`Bob` 还非常好心的告诉了我们正态分布表达式，因为这超出了我们所能推导的范围

$$
f(x)=\frac{1}{\sigma\sqrt{2\pi}}e^{-\frac{(x-\mu)^2}{2\sigma^{2}}}
$$

那，这又代表了什么呢？

首先，正态分布的图像是一个**概率密度曲线**。相比于一般的 [概率分布函数](obsidian://open?vault=notebook&file=%E5%88%86%E5%B8%83%E5%87%BD%E6%95%B0)，它最大的特点是**连续曲线**，这也就意味着，我们可以通过积分的方式，求出**一段区间**的概率，而这是概率分布函数所不能的（拜托，人家都不连续，求区间概率有什么用啊）

其次，式中的 $\sigma$ 指的是总体中的标准差，在此处的情景下，它指的是整条 LED 灯带上，不亮的点的数量的方差。你可能会疑惑，为什么会有这个方差呢？别忘了 `Alice` 并不能确保每次点亮的点数量不变

然后 $\mu$ 呢？这是总体平均数，对象仍然是整条 LED 灯带上不亮的点，不过这次求的是平均数。

好啦，现在你已经明白了正态分布的函数与什么有关，类似于二项分布，让我们将它写作 $N(\mu,\sigma^2)$ ，来看看它的图像吧 ![[Pasted image 20240721221238.png]]

## 2.0 更进一步

`Alice` 现在终于满足了，不过她仍然想要继续研究一下如此有趣的正态分布，因此她提出了几个问题

1. `Bob` 说用它可以计算区间概率，